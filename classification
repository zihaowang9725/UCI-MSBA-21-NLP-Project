{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import matplotlib.pyplot as plt\n",
    "from sklearn import preprocessing\n",
    "pd.set_option('display.max_columns',None)\n",
    "import numpy as np"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [],
   "source": [
    "train=pd.read_csv('train.csv', usecols=['section','headline','abstract','keywords','word_count','is_popular','uniqueID'])\n",
    "test=pd.read_csv('test.csv',usecols=['section','headline','abstract','keywords','word_count','is_popular'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array(['Opinion', 'Crosswords & Games', 'Science', 'World', 'Magazine',\n",
       "       'Books', 'Well', 'Arts', 'Real Estate', 'Business Day', 'Theater',\n",
       "       'Movies', 'Style', 'New York', 'U.S.', 'Obituaries',\n",
       "       'The Learning Network', 'Sports', 'Travel', 'Health', 'Podcasts',\n",
       "       'Technology', 'Food', 'The Upshot', 'Reader Center', 'Climate',\n",
       "       'Fashion & Style', 'The Weekly', 'T Magazine', 'Automobiles',\n",
       "       'Sunday Review', 'Education', 'Smarter Living', 'Times Insider',\n",
       "       'Parenting', 'Your Money', 'At Home', 'Briefing', 'Video',\n",
       "       'International Home', 'Universal'], dtype=object)"
      ]
     },
     "execution_count": 35,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "train['section'].unique()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [],
   "source": [
    "#comments=pd.read_csv('nyt-comments-2020.csv')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [],
   "source": [
    "div=pd.read_csv('article_sentimentDiversity.csv')\n",
    "train2=pd.read_csv('train2.csv',usecols=['uniqueID','SimilarCount'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "metadata": {},
   "outputs": [],
   "source": [
    "#comments_df.to_csv (r'/Users/owner/Dropbox/UCI/Spring 2021/NLP/comments_df.csv/', index = False, header=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [],
   "source": [
    "#train.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 40,
   "metadata": {},
   "outputs": [],
   "source": [
    "section_dummies = pd.get_dummies(train['section'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [],
   "source": [
    "train = pd.concat([train, section_dummies], axis = 1)\n",
    "train.drop('section',axis=1,inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {},
   "outputs": [],
   "source": [
    "train=pd.merge(train,div,left_on='uniqueID',right_on='articleID')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [],
   "source": [
    "train=pd.merge(train,train2,left_on='articleID',right_on='uniqueID')\n",
    "train.drop(['uniqueID_x','uniqueID_y'],axis=1,inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [],
   "source": [
    "train.drop('articleID',axis=1,inplace=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>headline</th>\n",
       "      <th>abstract</th>\n",
       "      <th>keywords</th>\n",
       "      <th>word_count</th>\n",
       "      <th>is_popular</th>\n",
       "      <th>Arts</th>\n",
       "      <th>At Home</th>\n",
       "      <th>Automobiles</th>\n",
       "      <th>Books</th>\n",
       "      <th>Briefing</th>\n",
       "      <th>Business Day</th>\n",
       "      <th>Climate</th>\n",
       "      <th>Crosswords &amp; Games</th>\n",
       "      <th>Education</th>\n",
       "      <th>Fashion &amp; Style</th>\n",
       "      <th>Food</th>\n",
       "      <th>Health</th>\n",
       "      <th>International Home</th>\n",
       "      <th>Magazine</th>\n",
       "      <th>Movies</th>\n",
       "      <th>New York</th>\n",
       "      <th>Obituaries</th>\n",
       "      <th>Opinion</th>\n",
       "      <th>Parenting</th>\n",
       "      <th>Podcasts</th>\n",
       "      <th>Reader Center</th>\n",
       "      <th>Real Estate</th>\n",
       "      <th>Science</th>\n",
       "      <th>Smarter Living</th>\n",
       "      <th>Sports</th>\n",
       "      <th>Style</th>\n",
       "      <th>Sunday Review</th>\n",
       "      <th>T Magazine</th>\n",
       "      <th>Technology</th>\n",
       "      <th>The Learning Network</th>\n",
       "      <th>The Upshot</th>\n",
       "      <th>The Weekly</th>\n",
       "      <th>Theater</th>\n",
       "      <th>Times Insider</th>\n",
       "      <th>Travel</th>\n",
       "      <th>U.S.</th>\n",
       "      <th>Universal</th>\n",
       "      <th>Video</th>\n",
       "      <th>Well</th>\n",
       "      <th>World</th>\n",
       "      <th>Your Money</th>\n",
       "      <th>com_compound</th>\n",
       "      <th>SimilarCount</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Protect Veterans From Fraud</td>\n",
       "      <td>Congress could do much more to protect America...</td>\n",
       "      <td>['Veterans', 'For-Profit Schools', 'Financial ...</td>\n",
       "      <td>680</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.362798</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>‘It’s Green and Slimy’</td>\n",
       "      <td>Christina Iverson and Jeff Chen ring in the Ne...</td>\n",
       "      <td>['Crossword Puzzles']</td>\n",
       "      <td>931</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.220087</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Meteor Showers in 2020 That Will Light Up Nigh...</td>\n",
       "      <td>All year long, Earth passes through streams of...</td>\n",
       "      <td>['Meteors and Meteorites', 'Space and Astronom...</td>\n",
       "      <td>1057</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.278527</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Sync your calendar with the solar system</td>\n",
       "      <td>Never miss an eclipse, a meteor shower, a rock...</td>\n",
       "      <td>['Space and Astronomy', 'Moon', 'Eclipses', 'S...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.000000</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Rocket Launches, Trips to Mars and More 2020 S...</td>\n",
       "      <td>A year full of highs and lows in space just en...</td>\n",
       "      <td>['Space and Astronomy', 'Private Spaceflight',...</td>\n",
       "      <td>1156</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.317136</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                                            headline  \\\n",
       "0                        Protect Veterans From Fraud   \n",
       "1                             ‘It’s Green and Slimy’   \n",
       "2  Meteor Showers in 2020 That Will Light Up Nigh...   \n",
       "3           Sync your calendar with the solar system   \n",
       "4  Rocket Launches, Trips to Mars and More 2020 S...   \n",
       "\n",
       "                                            abstract  \\\n",
       "0  Congress could do much more to protect America...   \n",
       "1  Christina Iverson and Jeff Chen ring in the Ne...   \n",
       "2  All year long, Earth passes through streams of...   \n",
       "3  Never miss an eclipse, a meteor shower, a rock...   \n",
       "4  A year full of highs and lows in space just en...   \n",
       "\n",
       "                                            keywords  word_count  is_popular  \\\n",
       "0  ['Veterans', 'For-Profit Schools', 'Financial ...         680           1   \n",
       "1                              ['Crossword Puzzles']         931           1   \n",
       "2  ['Meteors and Meteorites', 'Space and Astronom...        1057           0   \n",
       "3  ['Space and Astronomy', 'Moon', 'Eclipses', 'S...           0           0   \n",
       "4  ['Space and Astronomy', 'Private Spaceflight',...        1156           0   \n",
       "\n",
       "   Arts  At Home  Automobiles  Books  Briefing  Business Day  Climate  \\\n",
       "0     0        0            0      0         0             0        0   \n",
       "1     0        0            0      0         0             0        0   \n",
       "2     0        0            0      0         0             0        0   \n",
       "3     0        0            0      0         0             0        0   \n",
       "4     0        0            0      0         0             0        0   \n",
       "\n",
       "   Crosswords & Games  Education  Fashion & Style  Food  Health  \\\n",
       "0                   0          0                0     0       0   \n",
       "1                   1          0                0     0       0   \n",
       "2                   0          0                0     0       0   \n",
       "3                   0          0                0     0       0   \n",
       "4                   0          0                0     0       0   \n",
       "\n",
       "   International Home  Magazine  Movies  New York  Obituaries  Opinion  \\\n",
       "0                   0         0       0         0           0        1   \n",
       "1                   0         0       0         0           0        0   \n",
       "2                   0         0       0         0           0        0   \n",
       "3                   0         0       0         0           0        0   \n",
       "4                   0         0       0         0           0        0   \n",
       "\n",
       "   Parenting  Podcasts  Reader Center  Real Estate  Science  Smarter Living  \\\n",
       "0          0         0              0            0        0               0   \n",
       "1          0         0              0            0        0               0   \n",
       "2          0         0              0            0        1               0   \n",
       "3          0         0              0            0        1               0   \n",
       "4          0         0              0            0        1               0   \n",
       "\n",
       "   Sports  Style  Sunday Review  T Magazine  Technology  The Learning Network  \\\n",
       "0       0      0              0           0           0                     0   \n",
       "1       0      0              0           0           0                     0   \n",
       "2       0      0              0           0           0                     0   \n",
       "3       0      0              0           0           0                     0   \n",
       "4       0      0              0           0           0                     0   \n",
       "\n",
       "   The Upshot  The Weekly  Theater  Times Insider  Travel  U.S.  Universal  \\\n",
       "0           0           0        0              0       0     0          0   \n",
       "1           0           0        0              0       0     0          0   \n",
       "2           0           0        0              0       0     0          0   \n",
       "3           0           0        0              0       0     0          0   \n",
       "4           0           0        0              0       0     0          0   \n",
       "\n",
       "   Video  Well  World  Your Money  com_compound  SimilarCount  \n",
       "0      0     0      0           0      0.362798           0.0  \n",
       "1      0     0      0           0      0.220087           0.0  \n",
       "2      0     0      0           0      0.278527           0.0  \n",
       "3      0     0      0           0      0.000000           0.0  \n",
       "4      0     0      0           0      0.317136           0.0  "
      ]
     },
     "execution_count": 45,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "train.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pingouin as pg"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>X</th>\n",
       "      <th>Y</th>\n",
       "      <th>method</th>\n",
       "      <th>tail</th>\n",
       "      <th>n</th>\n",
       "      <th>r</th>\n",
       "      <th>CI95%</th>\n",
       "      <th>p-unc</th>\n",
       "      <th>BF10</th>\n",
       "      <th>power</th>\n",
       "      <th>r_abs</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>Opinion</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>0.346508</td>\n",
       "      <td>[0.33, 0.36]</td>\n",
       "      <td>0.000000e+00</td>\n",
       "      <td>inf</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.346508</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>36</th>\n",
       "      <td>U.S.</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>0.186373</td>\n",
       "      <td>[0.17, 0.2]</td>\n",
       "      <td>2.469716e-100</td>\n",
       "      <td>1.636e+96</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.186373</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Arts</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.185281</td>\n",
       "      <td>[-0.2, -0.17]</td>\n",
       "      <td>3.649343e-99</td>\n",
       "      <td>1.114e+95</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.185281</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>42</th>\n",
       "      <td>com_compound</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12568</td>\n",
       "      <td>0.180941</td>\n",
       "      <td>[0.16, 0.2]</td>\n",
       "      <td>5.793208e-93</td>\n",
       "      <td>7.325e+88</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.180941</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>word_count</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>0.171316</td>\n",
       "      <td>[0.15, 0.19]</td>\n",
       "      <td>7.610629e-85</td>\n",
       "      <td>5.805e+80</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.171316</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>20</th>\n",
       "      <td>Podcasts</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.139503</td>\n",
       "      <td>[-0.16, -0.12]</td>\n",
       "      <td>1.317288e-56</td>\n",
       "      <td>4.155e+52</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.139503</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>Sports</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.124124</td>\n",
       "      <td>[-0.14, -0.11]</td>\n",
       "      <td>4.266619e-45</td>\n",
       "      <td>1.446e+41</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.124124</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>Real Estate</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.117060</td>\n",
       "      <td>[-0.13, -0.1]</td>\n",
       "      <td>2.864398e-40</td>\n",
       "      <td>2.287e+36</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.117060</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Books</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.110965</td>\n",
       "      <td>[-0.13, -0.09]</td>\n",
       "      <td>2.457861e-36</td>\n",
       "      <td>2.814e+32</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.110965</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>33</th>\n",
       "      <td>Theater</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.104344</td>\n",
       "      <td>[-0.12, -0.09]</td>\n",
       "      <td>2.645280e-32</td>\n",
       "      <td>2.782e+28</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.104344</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Crosswords &amp; Games</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>0.096144</td>\n",
       "      <td>[0.08, 0.11]</td>\n",
       "      <td>1.175199e-27</td>\n",
       "      <td>6.799e+23</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.096144</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>Science</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.093137</td>\n",
       "      <td>[-0.11, -0.08]</td>\n",
       "      <td>4.769855e-26</td>\n",
       "      <td>1.729e+22</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.093137</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>Food</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.065816</td>\n",
       "      <td>[-0.08, -0.05]</td>\n",
       "      <td>9.242861e-14</td>\n",
       "      <td>1.258e+10</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.065816</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>31</th>\n",
       "      <td>The Upshot</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>0.065249</td>\n",
       "      <td>[0.05, 0.08]</td>\n",
       "      <td>1.502745e-13</td>\n",
       "      <td>7.801e+09</td>\n",
       "      <td>1.000000</td>\n",
       "      <td>0.065249</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>T Magazine</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.060261</td>\n",
       "      <td>[-0.08, -0.04]</td>\n",
       "      <td>9.029788e-12</td>\n",
       "      <td>1.403e+08</td>\n",
       "      <td>0.999999</td>\n",
       "      <td>0.060261</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>Reader Center</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.057656</td>\n",
       "      <td>[-0.07, -0.04]</td>\n",
       "      <td>6.763356e-11</td>\n",
       "      <td>1.954e+07</td>\n",
       "      <td>0.999998</td>\n",
       "      <td>0.057656</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>Parenting</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.056693</td>\n",
       "      <td>[-0.07, -0.04]</td>\n",
       "      <td>1.393415e-10</td>\n",
       "      <td>9.641e+06</td>\n",
       "      <td>0.999996</td>\n",
       "      <td>0.056693</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>43</th>\n",
       "      <td>SimilarCount</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>0.053970</td>\n",
       "      <td>[0.04, 0.07]</td>\n",
       "      <td>1.009135e-09</td>\n",
       "      <td>1.396e+06</td>\n",
       "      <td>0.999983</td>\n",
       "      <td>0.053970</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>34</th>\n",
       "      <td>Times Insider</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.053206</td>\n",
       "      <td>[-0.07, -0.04]</td>\n",
       "      <td>1.729500e-09</td>\n",
       "      <td>8.255e+05</td>\n",
       "      <td>0.999976</td>\n",
       "      <td>0.053206</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>Style</td>\n",
       "      <td>is_popular</td>\n",
       "      <td>pearson</td>\n",
       "      <td>two-sided</td>\n",
       "      <td>12792</td>\n",
       "      <td>-0.051773</td>\n",
       "      <td>[-0.07, -0.03]</td>\n",
       "      <td>4.658021e-09</td>\n",
       "      <td>3.146e+05</td>\n",
       "      <td>0.999952</td>\n",
       "      <td>0.051773</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                     X           Y   method       tail      n         r  \\\n",
       "18             Opinion  is_popular  pearson  two-sided  12792  0.346508   \n",
       "36                U.S.  is_popular  pearson  two-sided  12792  0.186373   \n",
       "1                 Arts  is_popular  pearson  two-sided  12792 -0.185281   \n",
       "42        com_compound  is_popular  pearson  two-sided  12568  0.180941   \n",
       "0           word_count  is_popular  pearson  two-sided  12792  0.171316   \n",
       "20            Podcasts  is_popular  pearson  two-sided  12792 -0.139503   \n",
       "25              Sports  is_popular  pearson  two-sided  12792 -0.124124   \n",
       "22         Real Estate  is_popular  pearson  two-sided  12792 -0.117060   \n",
       "4                Books  is_popular  pearson  two-sided  12792 -0.110965   \n",
       "33             Theater  is_popular  pearson  two-sided  12792 -0.104344   \n",
       "8   Crosswords & Games  is_popular  pearson  two-sided  12792  0.096144   \n",
       "23             Science  is_popular  pearson  two-sided  12792 -0.093137   \n",
       "11                Food  is_popular  pearson  two-sided  12792 -0.065816   \n",
       "31          The Upshot  is_popular  pearson  two-sided  12792  0.065249   \n",
       "28          T Magazine  is_popular  pearson  two-sided  12792 -0.060261   \n",
       "21       Reader Center  is_popular  pearson  two-sided  12792 -0.057656   \n",
       "19           Parenting  is_popular  pearson  two-sided  12792 -0.056693   \n",
       "43        SimilarCount  is_popular  pearson  two-sided  12792  0.053970   \n",
       "34       Times Insider  is_popular  pearson  two-sided  12792 -0.053206   \n",
       "26               Style  is_popular  pearson  two-sided  12792 -0.051773   \n",
       "\n",
       "             CI95%          p-unc       BF10     power     r_abs  \n",
       "18    [0.33, 0.36]   0.000000e+00        inf  1.000000  0.346508  \n",
       "36     [0.17, 0.2]  2.469716e-100  1.636e+96  1.000000  0.186373  \n",
       "1    [-0.2, -0.17]   3.649343e-99  1.114e+95  1.000000  0.185281  \n",
       "42     [0.16, 0.2]   5.793208e-93  7.325e+88  1.000000  0.180941  \n",
       "0     [0.15, 0.19]   7.610629e-85  5.805e+80  1.000000  0.171316  \n",
       "20  [-0.16, -0.12]   1.317288e-56  4.155e+52  1.000000  0.139503  \n",
       "25  [-0.14, -0.11]   4.266619e-45  1.446e+41  1.000000  0.124124  \n",
       "22   [-0.13, -0.1]   2.864398e-40  2.287e+36  1.000000  0.117060  \n",
       "4   [-0.13, -0.09]   2.457861e-36  2.814e+32  1.000000  0.110965  \n",
       "33  [-0.12, -0.09]   2.645280e-32  2.782e+28  1.000000  0.104344  \n",
       "8     [0.08, 0.11]   1.175199e-27  6.799e+23  1.000000  0.096144  \n",
       "23  [-0.11, -0.08]   4.769855e-26  1.729e+22  1.000000  0.093137  \n",
       "11  [-0.08, -0.05]   9.242861e-14  1.258e+10  1.000000  0.065816  \n",
       "31    [0.05, 0.08]   1.502745e-13  7.801e+09  1.000000  0.065249  \n",
       "28  [-0.08, -0.04]   9.029788e-12  1.403e+08  0.999999  0.060261  \n",
       "21  [-0.07, -0.04]   6.763356e-11  1.954e+07  0.999998  0.057656  \n",
       "19  [-0.07, -0.04]   1.393415e-10  9.641e+06  0.999996  0.056693  \n",
       "43    [0.04, 0.07]   1.009135e-09  1.396e+06  0.999983  0.053970  \n",
       "34  [-0.07, -0.04]   1.729500e-09  8.255e+05  0.999976  0.053206  \n",
       "26  [-0.07, -0.03]   4.658021e-09  3.146e+05  0.999952  0.051773  "
      ]
     },
     "execution_count": 47,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "corr = pg.pairwise_corr(train, columns=[['word_count', 'Arts',\n",
    "       'At Home', 'Automobiles', 'Books', 'Briefing', 'Business Day',\n",
    "       'Climate', 'Crosswords & Games', 'Education', 'Fashion & Style', 'Food',\n",
    "       'Health', 'International Home', 'Magazine', 'Movies', 'New York',\n",
    "       'Obituaries', 'Opinion', 'Parenting', 'Podcasts', 'Reader Center',\n",
    "       'Real Estate', 'Science', 'Smarter Living', 'Sports', 'Style',\n",
    "       'Sunday Review', 'T Magazine', 'Technology', 'The Learning Network',\n",
    "       'The Upshot', 'The Weekly', 'Theater', 'Times Insider', 'Travel',\n",
    "       'U.S.', 'Universal', 'Video', 'Well', 'World', 'Your Money',\n",
    "       'com_compound', 'SimilarCount']], method='pearson')\n",
    "corr[\"r_abs\"]=corr[[\"r\"]].abs()\n",
    "\n",
    "corr.sort_values(by=\"r_abs\", ascending=False, inplace=True)\n",
    "corr=corr[0:20]\n",
    "corr"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 2160x720 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "plt.figure(figsize=(30,10))\n",
    "plt.title(\"Correlation\")\n",
    "plt.bar(corr['X'], corr['r'],\n",
    "       color='green',align=\"center\")\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 49,
   "metadata": {},
   "outputs": [],
   "source": [
    "#train.groupby(by=[\"section\"]).sum()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 50,
   "metadata": {},
   "outputs": [],
   "source": [
    "#train['section'].value_counts()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 51,
   "metadata": {},
   "outputs": [],
   "source": [
    "scaler = preprocessing.MinMaxScaler()\n",
    "train['word_count']=scaler.fit_transform(train[['word_count']])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 52,
   "metadata": {},
   "outputs": [],
   "source": [
    "import re\n",
    "import string\n",
    "from nltk.stem import PorterStemmer\n",
    "porter = PorterStemmer()\n",
    "from nltk.tokenize import word_tokenize\n",
    "from nltk.corpus import stopwords\n",
    "stop = stopwords.words('english')\n",
    "from nltk.stem import WordNetLemmatizer\n",
    "wnl = WordNetLemmatizer()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 53,
   "metadata": {},
   "outputs": [],
   "source": [
    "train['headline'] = train['headline'].map(lambda x:' '.join((x.split('|'))))\n",
    "train['headline'] = train['headline'].map(lambda x: x.lower())\n",
    "train['headline'] = train['headline'].map(lambda x: re.sub(r'\\d+', '', x))\n",
    "train['headline'] = train['headline'].map(lambda x: x.translate(x.maketrans('', '', string.punctuation)))\n",
    "train['headline'] = train['headline'].map(lambda x: x.strip())\n",
    "train['headline'] = train['headline'].map(lambda x: word_tokenize(x))\n",
    "train['headline']= train['headline'].map(lambda x: [word for word in x if word.isalpha()])\n",
    "train['headline'] = train['headline'].map(lambda x: [w for w in x if not w in stop])\n",
    "train['headline'] = train['headline'].map(lambda x: [wnl.lemmatize(word,\"v\") for word in x])\n",
    "train['headline'] = train['headline'].map(lambda x: ' '.join(x))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 54,
   "metadata": {},
   "outputs": [],
   "source": [
    "train['abstract'] = train['abstract'].map(lambda x:' '.join((str(x).split('|'))))\n",
    "train['abstract'] = train['abstract'].map(lambda x: x.lower())\n",
    "train['abstract'] = train['abstract'].map(lambda x: re.sub(r'\\d+', '', x))\n",
    "train['abstract'] = train['abstract'].map(lambda x: x.translate(x.maketrans('', '', string.punctuation)))\n",
    "train['abstract'] = train['abstract'].map(lambda x: x.strip())\n",
    "train['abstract'] = train['abstract'].map(lambda x: word_tokenize(x))\n",
    "train['abstract']= train['abstract'].map(lambda x: [word for word in x if word.isalpha()])\n",
    "train['abstract'] = train['abstract'].map(lambda x: [w for w in x if not w in stop])\n",
    "train['abstract'] = train['abstract'].map(lambda x: [wnl.lemmatize(word,\"v\") for word in x])\n",
    "train['abstract'] = train['abstract'].map(lambda x: ' '.join(x))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 55,
   "metadata": {},
   "outputs": [],
   "source": [
    "train['keywords'] = train['keywords'].map(lambda x:' '.join((str(x).split('|'))))\n",
    "train['keywords'] = train['keywords'].map(lambda x: x.lower())\n",
    "train['keywords'] = train['keywords'].map(lambda x: re.sub(r'\\d+', '', x))\n",
    "train['keywords'] = train['keywords'].map(lambda x: x.translate(x.maketrans('', '', string.punctuation)))\n",
    "train['keywords'] = train['keywords'].map(lambda x: x.strip())\n",
    "train['keywords'] = train['keywords'].map(lambda x: word_tokenize(x))\n",
    "train['keywords']= train['keywords'].map(lambda x: [word for word in x if word.isalpha()])\n",
    "train['keywords'] = train['keywords'].map(lambda x: [w for w in x if not w in stop])\n",
    "train['keywords'] = train['keywords'].map(lambda x: [wnl.lemmatize(word,\"v\") for word in x])\n",
    "train['keywords'] = train['keywords'].map(lambda x: ' '.join(x))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 56,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.feature_extraction.text import TfidfVectorizer\n",
    "tfidf_title = TfidfVectorizer()\n",
    "tfidf_tags = TfidfVectorizer()\n",
    "tfidf_keywords = TfidfVectorizer()\n",
    "labels = train.is_popular\n",
    "features_title = tfidf_title.fit_transform(train.headline).toarray()\n",
    "features_abstract = tfidf_tags.fit_transform(train.abstract).toarray()\n",
    "features_keywords = tfidf_keywords.fit_transform(train.keywords).toarray()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 57,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.naive_bayes import MultinomialNB\n",
    "from sklearn import linear_model\n",
    "from sklearn.ensemble import RandomForestClassifier\n",
    "from sklearn.metrics import confusion_matrix, classification_report\n",
    "from sklearn import metrics"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 58,
   "metadata": {},
   "outputs": [],
   "source": [
    "X=train.drop('is_popular',axis=1)\n",
    "y=train['is_popular']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 59,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_train, X_test, y_train, y_test = train_test_split(X,y, random_state = 0)\n",
    "X_train_title_features = tfidf_title.transform(X_train['headline']).toarray()\n",
    "X_train_tags_features = tfidf_tags.transform(X_train['abstract']).toarray()\n",
    "X_train_keywords_features = tfidf_keywords.transform(X_train['keywords']).toarray()\n",
    "X_train_word_count=X_train['word_count'].array\n",
    "features = np.concatenate([X_train_title_features, X_train_tags_features,X_train_keywords_features], axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "metadata": {},
   "outputs": [],
   "source": [
    "X_test_title_features = tfidf_title.transform(X_test['headline']).toarray()\n",
    "X_test_tags_features = tfidf_tags.transform(X_test['abstract']).toarray()\n",
    "X_test_keywords_features = tfidf_keywords.transform(X_test['keywords']).toarray()\n",
    "\n",
    "test_features = np.concatenate([X_test_title_features, X_test_tags_features,X_test_keywords_features], axis=1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "metadata": {},
   "outputs": [],
   "source": [
    "from scipy.sparse import coo_matrix, hstack"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[[1126  502]\n",
      " [ 339 1231]]\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.77      0.69      0.73      1628\n",
      "           1       0.71      0.78      0.75      1570\n",
      "\n",
      "    accuracy                           0.74      3198\n",
      "   macro avg       0.74      0.74      0.74      3198\n",
      "weighted avg       0.74      0.74      0.74      3198\n",
      "\n"
     ]
    }
   ],
   "source": [
    "nb = MultinomialNB().fit(features, y_train)\n",
    "y_pred = nb.predict(test_features)\n",
    "\n",
    "print(confusion_matrix(y_test, y_pred))\n",
    "print(metrics.classification_report(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[[1216  412]\n",
      " [ 419 1151]]\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.74      0.75      0.75      1628\n",
      "           1       0.74      0.73      0.73      1570\n",
      "\n",
      "    accuracy                           0.74      3198\n",
      "   macro avg       0.74      0.74      0.74      3198\n",
      "weighted avg       0.74      0.74      0.74      3198\n",
      "\n"
     ]
    }
   ],
   "source": [
    "lm = linear_model.SGDClassifier(loss='log').fit(features,y_train)\n",
    "y_pred = lm.predict(test_features)\n",
    "y_probas = lm.predict_proba(test_features)\n",
    "\n",
    "print(confusion_matrix(y_test, y_pred))\n",
    "print(metrics.classification_report(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[[1229  399]\n",
      " [ 436 1134]]\n",
      "              precision    recall  f1-score   support\n",
      "\n",
      "           0       0.74      0.75      0.75      1628\n",
      "           1       0.74      0.72      0.73      1570\n",
      "\n",
      "    accuracy                           0.74      3198\n",
      "   macro avg       0.74      0.74      0.74      3198\n",
      "weighted avg       0.74      0.74      0.74      3198\n",
      "\n"
     ]
    }
   ],
   "source": [
    "rf = RandomForestClassifier(n_estimators=300,min_samples_split=0.05).fit(features,y_train)\n",
    "y_pred = rf.predict(test_features)\n",
    "y_probas = rf.predict_proba(test_features)\n",
    "\n",
    "print(confusion_matrix(y_test, y_pred))\n",
    "print(metrics.classification_report(y_test, y_pred))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 4
}
